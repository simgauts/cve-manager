from tests.conftests import new_user, session, db, app, login, logout, client
from app.models.user import User

def test_login(client, new_user):
    res = login(client, new_user.username, "12345678")
    assert res.status_code == 200
    

def test_new_user_creation(session):
    user = User(username="test2", email="test2@test.com")
    user.set_password("12345678")

    session.add(user)
    session.commit()

    assert user.id > 0
