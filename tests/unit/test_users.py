from tests.conftests import new_user, session, db, app
from app.models.user import User

def test_new_user(new_user):
    assert new_user.email == "unit_test@test.com"


def test_new_user_creation(session):
    user = User(username="test", email="test@test.com")
    user.set_password("unit_test_password")

    session.add(user)
    session.commit()

    assert user.id > 0
